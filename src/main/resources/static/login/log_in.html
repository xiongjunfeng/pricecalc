<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>log-in</title>
    <link rel="stylesheet" href="css/common_form.css">
</head>
<body>
    <header>
        <div class="header-line"></div>
    </header>
    <div class="content">
        <img class="content-logo" src="img/form_logo.png" alt="logo">
        <h1 class="content-title">中国电信云管平台</h1>
        <div class="content-form">
            <form  name="frmLogin">
                <div id="change_margin_1">
                    <input class="user" type="text" name="txtUserName" placeholder="请输入用户名"  onfocus="if(this.value=='请输入用户名') this.value=''">
                </div>
                <!-- input的value为空时弹出提醒 -->
                <p id="remind_1"></p>
                <div id="change_margin_2">
                    <input class="password" type="password" name="txtPassword" placeholder="请输入密码"  onfocus="if(this.value=='请输入密码') this.value=''">
                </div>
                <!-- input的value为空时弹出提醒 -->
                <p id="remind_2"></p>
                <div id="change_margin_3">
                </div>
            </form>

        </div>
        <input class="content-form-signup" type="submit",name="btnSend"  onclick="subclick();" value="登录">
        <div class="content-login-description">没有账户？</div>
        <div><a class="content-login-link" href="sign_up.html">注册</a></div>
    </div>

<script src="jquery-2.1.4.min.js"></script>
    
<script language="javaScript">

function subclick() {
	  console.log(GetJsonData());
	  debugger
    $.ajax({
        type: "POST",
        url: "http://localhost:8080/login/login",
        contentType: "application/json; charset=utf-8",
        data: JSON.stringify(GetJsonData()),
        dataType: "json",
        success: function (message) {
            if (message > 0) {
                alert("提交成功，准备跳转");
            }
        },
        error: function (message) {
            $("#request-process-patent").html("提交数据失败！");
        }
    });
  };

    function GetJsonData() {  
    var json = {  
        "loginid": $(".user").val(),
        "password": $(".password").val()
    };  
    return json;  	
  };
</script>
</body>
</html>